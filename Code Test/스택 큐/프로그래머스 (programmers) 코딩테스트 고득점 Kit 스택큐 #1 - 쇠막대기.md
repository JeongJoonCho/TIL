### 1. 문제 설명

문제: https://programmers.co.kr/learn/courses/30/lessons/42585

여러 개의 쇠막대기를 레이저로 절단하려고 합니다. 효율적인 작업을 위해서 쇠막대기를 아래에서 위로 겹쳐 놓고, 레이저를 위에서 수직으로 발사하여 쇠막대기들을 자릅니다. 쇠막대기와 레이저의 배치는 다음 조건을 만족합니다.



\- 쇠막대기는 자신보다 긴 쇠막대기 위에만 놓일 수 있습니다.

\- 쇠막대기를 다른 쇠막대기 위에 놓는 경우 완전히 포함되도록 놓되, 끝점은 겹치지 않도록 놓습니다.

\- 각 쇠막대기를 자르는 레이저는 적어도 하나 존재합니다.

\- 레이저는 어떤 쇠막대기의 양 끝점과도 겹치지 않습니다.



아래 그림은 위 조건을 만족하는 예를 보여줍니다. 수평으로 그려진 굵은 실선은 쇠막대기이고, 점은 레이저의 위치, 수직으로 그려진 점선 화살표는 레이저의 발사 방향입니다.







![[프로그래머스/코딩테스트 고득점 Kit/스택/큐#1] 쇠막대기 (Java)](md-images/992E04445C33439715.png)





이러한 레이저와 쇠막대기의 배치는 다음과 같이 괄호를 이용하여 왼쪽부터 순서대로 표현할 수 있습니다.



(a) 레이저는 여는 괄호와 닫는 괄호의 인접한 쌍 '()'으로 표현합니다. 또한 모든 '()'는 반드시 레이저를 표현합니다.



(b) 쇠막대기의 왼쪽 끝은 여는 괄호 '('로, 오른쪽 끝은 닫힌 괄호 ')'로 표현됩니다.

위 예의 괄호 표현은 그림 위에 주어져 있습니다.



쇠막대기는 레이저에 의해 몇 개의 조각으로 잘리는데, 위 예에서 가장 위에 있는 두 개의 쇠막대기는 각각 3개와 2개의 조각으로 잘리고, 이와 같은 방식으로 주어진 쇠막대기들은 총 17개의 조각으로 잘립니다.



쇠막대기와 레이저의 배치를 표현한 문자열 arrangement가 매개변수로 주어질 때, 잘린 쇠막대기 조각의 총 개수를 return 하도록 solution 함수를 작성해주세요.

### 2. 제한사항

\- arrangement의 길이는 최대 100,000입니다.

\- arrangement의 여는 괄호와 닫는 괄호는 항상 쌍을 이룹니다.



### 3. 입출력 예

![[프로그래머스/코딩테스트 고득점 Kit/스택/큐#1] 쇠막대기 (Java)](md-images/992A894C5C3343E607.png)



### 4. 입출력 예 설명

문제에 나온 예와 같습니다.



### 5. 나의 풀이 (알고리즘 해설)

```JAVA
import java.util.Stack;
 
class Solution {
    public int solution(String arrangement) {
        int answer = 0;
        Stack<Character> stack = new Stack<Character>();
        
        for (int i = 0; i < arrangement.length(); i++) {
            if (arrangement.charAt(i) == '(')
                stack.add(arrangement.charAt(i));
            else {
                stack.pop();
                if (arrangement.charAt(i-1) == '(')
                    answer+=stack.size();
                else
                    answer++;
            }
        }
        return answer;
    }
}
```

문제 내용이 좀 복잡하여 무슨 말인지 이해하는데 좀 걸렸던 문제입니다.

요약하자면 "()" 모양이 나오면 레이저이고, 닫히지 않으면 막대기가 추가로 생겨납니다. 이때 마지막에 잘려진 막대기의 총 수를 구하는 문제입니다. 스텍을 이용하여 간단하게 풀 수 있었습니다.



(line 9 ~ 10)

여는 괄호 "(" 가 나온것은 막대기의 시작이며 arrangement를 한글자씩 검사하며 계속 "("이 나온다면 층층히 막대기가 계속 추가되는 형태가 됩니다. 따라서, stack에 계속 character를 추가해주었습니다.



(line 11 ~ 17)

닫는 괄호 ")" 가 나올때 그 이전것이 여는 괄호였으면 "()" 모양이 형성되어 레이저가 됩니다. 그 전 것이 닫는 괄호라면 "))" 모양이 형성되어 이는 막대기의 끝을 의미합니다. 



그 전 character가 여는괄호, 즉 레이저라면 지금껏 만들어온 막대기들의 수를 모두 더해주면 됩니다. 예시를 통해 보면 아시겠지만 여는 괄호의 수보다 하나 적게 들어가야 하므로 stack.pop()을 먼저 해줍니다. 



그 전 character가 닫는 괄호라면 막대기의 끝이므로 끝나는 막대기 하나만 추가해주면 되므로 갯 수 1개를 늘렸습니다. 막대기 하나가 끝났으므로 stack.pop()을 통해 stack의 갯수를 줄여주어야하는데 "(" 일때와 공통이므로 if문 밖에 공통으로 빼내어줍니다.

### 6. point

\- Stack의 매우 기본적인 기능을 활용한 문제였습니다. 개념이 어려운 문제는 아니였으나 문제가 길고 그림이 복잡하여 당황하였습니다. 문제의 길이에 연연하지 않고 차분하고 빠르게 분석해야겠습니다.